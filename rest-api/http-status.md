# HTTPステータスコード

REST APIでは、HTTPステータスコードを使用して、クライアントにリクエストの結果を通知します。ステータスコードは、リクエストが成功したか、リソースが移動したか、リクエストが失敗したかなどを示します。

## ステータスコードの種類

ステータスコードは、次の5つのクラスに分類されます。

- 1xx: 情報レスポンス
- 2xx: 成功
- 3xx: リダイレクト
- 4xx: クライアントエラー
- 5xx: サーバーエラー

一般的にREST APIでは、`2xx`、`4xx`、`5xx`のステータスコードが使用されます。

クライアント（呼出元）は、HTTPステータスからリクエストの処理結果を判断し、適切な処理を行います。

REST APIでは、クライアントがHTTPステータスでサーバの状態が分かるように、次のように分類します。

### 正常系ステータスコード（2xx）

正常系のステータスコードは、次のようになります。

- `200 OK`: リクエスト成功
- `201 Created`: リクエストが成功し、リソースが作成されました
- `204 No Content`: リクエストが成功し、レスポンスボディが存在しません

### クライアントエラーステータスコード（4xx）

クライアントエラーのステータスコードは、次のようになります。

- `400 Bad Request`: リクエストが不正です
- `401 Unauthorized`: 認証が必要です
- `403 Forbidden`: アクセスが拒否されました
- `404 Not Found`: リソースが見つかりません
- `409 Conflict`: リクエストが競合しました
- `429 Too Many Requests`: リクエストの回数が多すぎます
- `413 Payload Too Large`: リクエストがサイズ制限を超えました
- `415 Unsupported Media Type`： ペイロードフォーマットがサポートされていないフォーマットです

`400`エラーは、リクエストが不正な場合に返却するHTTPステータスです。

`401`エラーは、未認証の場合に返却するHTTPステータスです。`403`エラーは、認証済みだがアクセス権がない場合に返却します。

`409`エラーは、リクエストが競合している場合に使用するHTTPステータスです。リソースがすでに存在する場合などに返却します。

### サーバーエラーステータスコード（5xx）

サーバーエラーのステータスコードは、次のようになります。

- `500 Internal Server Error`: サーバー内部エラー
- `501 Not Implemented`: リクエストが実装されていません
- `503 Service Unavailable`: サービスが利用できません
- `504 Gateway Timeout`: ゲートウェイタイムアウト

`500`エラーは、サーバーに想定外の挙動が発生した場合に返却するHTTPステータスです。`503`エラーは、サーバーがダウンしている時に返却します。
